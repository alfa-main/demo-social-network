{"version":3,"sources":["components/Common/FormControls/FormControls.module.css","components/Common/FormControls/FormControls.js","utils/validator/validators.js","Login/Login.js"],"names":["module","exports","FormControl","Element","input","meta","props","child","hasError","touched","error","className","s","formControls","requiredField","value","maxLengthCreator","maxLength","length","inp","LoginReduxForm","reduxForm","form","handleSubmit","captchaUrl","onSubmit","type","placeholder","name","component","validate","src","alt","formSummaryError","connect","state","isAuth","auth","login","to","formData","email","password","rememberMe","captcha"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,aAAe,mCAAmC,MAAQ,4BAA4B,iBAAmB,yC,uHCE9GC,EAAc,SAAAC,GAAO,OAAI,YAAuC,IAApCC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,KAAgBC,GAAY,EAAtBC,MAAsB,yCAClEC,EAAWH,EAAKI,SAAWJ,EAAKK,MACtC,OACI,sBAAKC,UAAWC,IAAEC,aAAe,KAAOL,EAAWI,IAAEF,MAAQ,IAA7D,UACI,cAACP,EAAD,2BAAaC,GAAWE,IACvBE,GAAY,+BAAOH,EAAKK,c,iCCRrC,oEAAO,IAAMI,EAAgB,SAAAC,GACzB,IAAIA,EAEJ,MAAO,qBAIEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAE5C,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,iCCTlC,oGASME,EAAMjB,YAAY,SA4BlBkB,EAAiBC,YAAU,CAC7BC,KAAM,SADaD,EA1BL,SAAC,GAAyC,IAAvCE,EAAsC,EAAtCA,aAAcb,EAAwB,EAAxBA,MAAOc,EAAiB,EAAjBA,WACtC,OACI,uBAAMC,SAAUF,EAAhB,UACI,8BACI,cAAC,IAAD,CAAOG,KAAM,OAAQC,YAAa,QAASC,KAAM,QAASC,UAAWV,EAAKW,SAAUhB,QAExF,8BACI,cAAC,IAAD,CAAOY,KAAM,WAAYC,YAAa,WAAYC,KAAM,WAAYC,UAAWV,EAAKW,SAAUhB,QAElG,gCACI,cAAC,IAAD,CAAOY,KAAM,WAAYE,KAAM,aAAcC,UAAWV,IAD5D,kBAICK,GAAc,qBAAKO,IAAKP,EAAYQ,IAAI,YACxCR,GAAc,cAAC,IAAD,CAAOE,KAAM,OAAQC,YAAa,UAAWC,KAAM,UAAWC,UAAWV,IAEvFT,GAAS,qBAAKC,UAAWC,IAAEqB,iBAAlB,SACLvB,IAEL,8BACI,oDAkCDwB,uBALS,SAACC,GAAD,MAAY,CAChCC,OAAQD,EAAME,KAAKD,OACnBZ,WAAYW,EAAME,KAAKb,cAGa,CAAEc,WAA3BJ,EAvBD,SAAC5B,GAMX,OAAIA,EAAM8B,OACC,cAAC,IAAD,CAAUG,GAAI,aAIrB,gCACI,uCACA,cAACnB,EAAD,CAAgBK,SAXP,SAACe,GACdlC,EAAMgC,MAAME,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UAUrCpB,WAAYlB,EAAMkB","file":"static/js/6.dec14cbc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__3Zr3_\",\"error\":\"FormControls_error__1Z42I\",\"formSummaryError\":\"FormControls_formSummaryError__WuDVV\"};","import React from 'react';\r\nimport s from './FormControls.module.css';\r\n\r\nexport const FormControl = Element => ({ input, meta, child, ...props }) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControls + ' ' + (hasError ? s.error : '')}>\r\n            <Element {...input} {...props} />\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","export const requiredField = value => {\r\n    if (value) return undefined;\r\n\r\n    return 'Field is required';\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    // debugger\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n\r\n}","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { FormControl } from '../components/Common/FormControls/FormControls';\r\nimport { requiredField } from '../utils/validator/validators';\r\nimport { login } from '../redux/authReducer';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from '../components/Common/FormControls/FormControls.module.css';\r\n\r\nconst inp = FormControl('input')\r\n\r\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field type={\"text\"} placeholder={\"Email\"} name={\"email\"} component={inp} validate={requiredField} />\r\n            </div>\r\n            <div>\r\n                <Field type={\"password\"} placeholder={\"Password\"} name={\"password\"} component={inp} validate={requiredField} />\r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"} name={\"rememberMe\"} component={inp} /> remember me\r\n                </div>\r\n\r\n            {captchaUrl && <img src={captchaUrl} alt=\"captcha\" />}\r\n            {captchaUrl && <Field type={\"text\"} placeholder={\"captcha\"} name={\"captcha\"} component={inp} />}\r\n\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Log In</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);"],"sourceRoot":""}